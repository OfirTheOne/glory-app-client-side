<!--
  Generated template for the PaymentMethodsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>payment Methods</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-grid class="m-0 p-0">
    <!-- existing cards -->
    <ion-row class="px-0 mx-0 my-2" *ngIf="existingSources.length > 0">
      <ion-col>
        <h3 text-center>
          Your Cards
        </h3>
        <ion-list>
          <ion-item-sliding class="border br-3rd" *ngFor="let source of existingSources">
            <ion-item>
              <ion-icon name="card" item-start></ion-icon>
              <p> 
                <!-- class="ml-2 mr-4" -->
                <span class="m-0-4-0-2" >{{source.brand}}</span>
                <span>****</span>
                <span>{{source.last4}}</span>
              </p>
            </ion-item>
            <ion-item-options side="left">
              <button ion-button color="primary">
                <ion-icon name="trash"></ion-icon>
                Remove
              </button>
            </ion-item-options>
          </ion-item-sliding>
        </ion-list>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <hr>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <!-- button -->
    <ion-row>
      <ion-col offset-2 col-8>
        <button ion-button block outline color="dark" [disabled]="showCardForm" (click)="setShowCardForm()">
          Add Payment Method
        </button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <hr>
      </ion-col>
    </ion-row>


    <!-- form -->
    <ion-row *ngIf="showCardForm">
      <ion-col>
        <app-stripe-payment-form [metadata]="metadata" (onCreateSourceSeccuss)="onCardSubmited($event)">
        </app-stripe-payment-form>
      </ion-col>
    </ion-row>


    <ion-row>
      <ion-col offset-2 col-8>
        <img src="../../../assets/imgs/Stripe Badges/stripe-cc-payments.png">
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>